## 6. 浏览器原理系列-V8 编译流水线

- ### 文章链接
  > https://juejin.cn/post/6911613368205836302
- ### 类别
  > `V8引擎`
- ### 推荐指数：⭐️⭐️⭐️
- ### 解读
  > 讲了 V8 是如何编译执行 js 代码的，间接提到了 JIT（即时编译）为什么快等等。这个流程也包括了之前的一篇文章-[浏览器原理系列-JS 执行上下文详解](/HiWayne/share-technology/blob/main/docs/3.浏览器原理系列-JS_执行上下文详解.md)的内容，可以结合起来一起思考。另外，关于热点代码的提前优化有点意思，由于 js 类型的不确定性，这种优化是可能失败的，于是只能反优化回退成字节码，从而浪费了性能。但 V8 会结合上下文推测它最可能是什么类型，这样看来，只要大部分猜测是正确的，那么虽然一部分失败了，但总体性能算下来是提升的，这种思路可以推广到业务上，10%低效换来 90%高效可能比全部 80%高效更容易做到并且效果差不多。还有我们平时开发要尽量不搞些骚操作，比如 a 是数组就不要变成对象，类型稳定有助于猜测的准确率。
