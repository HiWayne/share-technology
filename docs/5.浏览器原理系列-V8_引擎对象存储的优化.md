## 5. 浏览器原理系列-V8 引擎对象存储的优化

- ### 文章链接
  > https://juejin.cn/post/6910086185683533838
- ### 类别
  > `V8引擎`
- ### 推荐指数：⭐️⭐️⭐️
- ### 解读
  > 以前不了解这方面的知识时，以为对象就是普通的字典，类似哈希表那样的实现，但其实对象的数据结构设计是比较复杂的。在小对象并且没有频繁修改时，是顺序结构，否则是字典（虽然查询速度慢了，但修改操作时间复杂度降低），以及快属性、隐藏类、内联缓存等对象内部优化策略。并且指出了一些开发时的优化点，比如不要频繁的增删改、函数入参对象尽量不变等。这样的底层知识貌似离我们很远，但其实只要你想用到还是能用到的。比如之前我在看 React17 官方关于为什么要用 `_jsx` 代替 `createElement` 的介绍时，讲到了 `createElement` 的一些缺点，里面就提到了 `createElement` 是『`高度复态`』的，难以从 V8 层面优化。其实看懂了这篇文章，就能明白那句话什么意思，它其实就是文章里说的`超态`，于是你也就明白为什么官方说 createElement 难以优化了。`createElement`函数在页面中会被调用非常多次，但它接受的组件 props 等参数各不相同，于是会产生非常多内联缓存，所以说它是『高度复态(超态)』的。（不过至少这一点 `_jsx` 好像依然没能解决）。但这篇文章对所谓的顺序结构、字典到底是什么讲的不够细，也没讲清楚顺序结构是怎么做到 key-value 对应的，有兴趣有能力的可以自己看 V8 源码。
